{{ block title }}
Comprehension Screen 2
{{ endblock }}



{{ block content }}

    <head>
        <link rel="stylesheet" type="text/css" href="{{ static 'styles.css'}}">
    </head>
<div id="pageWrapper">

    <p> In addition to the information about the balls drawn from the urn we saw in the last example, the Seller can also see the range of possible payoffs for the Buyer, based on their unknown ideal quantity X. This is show in the table beneath the graph. When you move the slider on the graph, the corresponding payoff column for that possible drawn ball is highlighted in the table.</p>
    <p>This is the complete display that the Seller will use to make their choice. <b>To practice, please select an example of what you would offer to the Buyer below.</b> We will use your choice for another practice on the next page. (You may need to scroll down to see entire table.)</p>
    <br><br>
    <div class="sub-container2">
        <div class="dice-box">
            <p>
                The Buyer will be drawn from the <strong>
                {{ if roundType == 1}}
                "L" urn
                {{ elif roundType == 2}}
                "M" urn
                {{else}}
                "H" urn
                {{endif}}
                </strong>:


                <canvas id="ballCanvas"></canvas>

            </p>
        </div>
        <div class="theta-box">

            <canvas id="probCanvas" width="550" height="325"></canvas>

            <div class="theta_control">
                <span class="thetaOut" id="thetaOut"></span><input type="range" min="1" max="6" value="1" class="slider" id="thetaRange">
            </div>

        </div>
    </div>
    <br>
    <br>
    <div class="sub-container">

        <!-- Two-sided slider -->
        <div class="range_container">
            <div class="sliders_control">
                <input id="fromSlider" type="range" value="1" min="1" max="8" name="minSlider"/>
                <input id="toSlider" type="range" value="8" min="1" max="8" name="maxSlider"/>
                <div class="slider_value" id="fromValue">Min: 1</div>
                <div class="slider_value" id="toValue">Max: 8</div>
            </div>
        </div>

        <!-- Payoffs Table -->
        <table class="tg" id="payoffTable">
            <colgroup>
                <col style="width: 190.2px">
                <col style="width: 190.2px">
                <col style="width: 190.2px">
                <col style="width: 190.2px">
                <col style="width: 190.2px">
                <col style="width: 190.2px">
                <col style="width: 190.2px">
                <col style="width: 190.2px">
                <col style="width: 190.2px">
                <col style="width: 190.2px">
            </colgroup>
            <thead>
                <tr>
                    <th class="tg-c3ow" rowspan="2">Widgets <br>Purchased</th>
                    <th class="tg-c3ow" rowspan="2">Your Payoff <br> (X=<span id="selectedX">-</span>)</th>
                    <th class="tg-c3ow" rowspan="2">Your <br> Payoff</th>
                    <th class="tg-c3ow" colspan="6">Buyer Payoff (by ideal quantity X)</th>
                </tr>
                <tr>
                    <th class="tg-0lax">X=1</th>
                    <th class="tg-0lax">X=2</th>
                    <th class="tg-0lax">X=3</th>
                    <th class="tg-0lax">X=4</th>
                    <th class="tg-0lax">X=5</th>
                    <th class="tg-0lax">X=6</th>
                </tr>
            </thead>
            <tbody id="tableBody">
                <!-- Table body will be populated dynamically -->
            </tbody>
        </table>
    </div>



{{ formfield_errors 'minSlider' }}
<br>
{{ next_button }}
</div>

<!-- Hidden message -->
<div id="timeoutMessage" style="display: none; text-align: center; margin-top: 30px;">
    <p style="color: red; font-size: 20px; font-weight: bold;">Please make your selection</p>
</div>

    <script src="{{ static 'veto_delegation/interface.js' }}"></script>
<script>
// setTimeout(function() {
//     document.getElementById("timeoutMessage").style.display = "block";
//     document.getElementById("pageWrapper").style.outline = "2px solid red";
//     document.getElementById("pageWrapper").style.outlineOffset = "100px";
// }, 60000);  // or 3000 for testing

</script>
{{ endblock }}
